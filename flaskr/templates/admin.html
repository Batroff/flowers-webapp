{% extends "layouts/fullscreen.html" %}

{% block title %} Панель управления {% endblock title %}

{% block content %}
  <nav class="navigation">
    <div class="wrapper">
      <h1>Панель управления</h1>
      <a href="/logout">Выйти</a>
    </div>
  </nav>

  <section class="panel">
    <div class="wrapper">
      <table>
        <thead>
        <tr>
          <th>ID</th>
          <th>Название</th>
          <th>Описание</th>
          <th>Путь к файлу</th>
          <th colspan="2">Действия</th>
        </tr>
        </thead>
        <tbody>
        {% for item in items %}
          <tr data-id="{{ item.id }}">
            <td>{{ item.id }}</td>
            <td>{{ item.title }}</td>
            <td>{{ item.description }}</td>
            <td>{{ item.image }}</td>
            <td data-delete="{{ item.id }}">DEL</td>
            <td>Изменить</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>

      <form method="POST" id="form-edit" class="form-item" enctype="multipart/form-data">
        <h3>Товар №{% if items %}{{ items[0].id }}{% endif %}</h3>
        <label for="form-item-id">ID</label>
        <select name="id" id="form-item-id">
          {% for item in items %}
            <option value="{{ item.id }}">{{ item.id }}</option>
          {% endfor %}
        </select>

        <div class="params">
          <div class="params-item">
            <label for="form-edit-title">Название:</label>
            <input type="text" name="title" id="form-edit-title">
          </div>

          <div class="params-item">
            <label for="form-edit-description">Описание:</label>
            <input type="text" name="description" id="form-edit-description">
          </div>

          <div class="params-item">
            <label for="form-edit-image">Картинка:</label>
            <input type="file" name="image" id="form-edit-image">
          </div>
        </div>

        <button type="submit" name="action" value="apply">Применить</button>
      </form>

      <form method="POST" id="form-add" class="form-item" enctype="multipart/form-data">
        <div class="params">
          <div class="params-item">
            <label for="form-add-title">Название:</label>
            <input type="text" name="title" id="form-add-title">
          </div>

          <div class="params-item">
            <label for="form-add-description">Описание:</label>
            <input type="text" name="description" id="form-add-description">
          </div>

          <div class="params-item">
            <label for="form-add-image">Картинка:</label>
            <input type="file" name="image" id="form-add-image">
          </div>
        </div>

        <button type="submit" name="action" value="add">Добавить</button>
      </form>
    </div>
  </section>
  <script src="{{url_for('static', filename='assets/admin.js')}}"></script>
{% endblock content %}